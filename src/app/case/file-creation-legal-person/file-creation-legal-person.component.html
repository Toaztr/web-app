<div [formGroup]="legalPerson" class="incomes d-flex justify-content-center mt-3">

    <mat-card class="mat-elevation-z4 mb-1 mr-1">
        <mat-card-header>
            <mat-card-title>Personne morale</mat-card-title>
        </mat-card-header>
            <div>
                <mat-form-field appearance="outline">
                    <mat-label>Dénomination</mat-label>
                    <input matInput formControlName="name">
                </mat-form-field>
                <mat-form-field appearance="outline" class="ml-3">
                    <mat-label>E-mail</mat-label>
                    <input matInput formControlName="email">
                </mat-form-field>
                <mat-form-field appearance="outline" class="ml-3">
                    <mat-label>Téléphone</mat-label>
                    <input matInput formControlName="phone_number">
                </mat-form-field>
            </div>
            <div>
                <mat-form-field appearance="outline" class="mr-3">
                    <mat-label>Type de structure</mat-label>
                    <mat-select formControlName="structure_type">
                        <mat-option value="SCI">SCI</mat-option>
                        <mat-option value="COMPANY">Entreprise</mat-option>
                        <mat-option value="ASSOCIATION">Association</mat-option>
                        <mat-option value="POLITICAL_PARTY">Parti politique</mat-option>
                        <mat-option value="LOCAL_AUTHORITIES">Collectivité locale</mat-option>
                    </mat-select>
                </mat-form-field>
                <mat-form-field appearance="outline" class="ml-3">
                    <mat-label>Forme juridique</mat-label>
                    <input matInput formControlName="legal_status">
                </mat-form-field>
            </div>
            <div>
                <mat-card-content formGroupName="address" class="d-flex flex-column justify-content-around">
                    <div>
                        <mat-form-field appearance="outline" style="width:418px;">
                            <mat-label>Adresse</mat-label>
                            <textarea matInput formControlName="address"></textarea>
                        </mat-form-field>
                    </div>
                    <div>
                        <mat-form-field appearance="outline">
                            <mat-label>Code postal</mat-label>
                            <input matInput formControlName="postal_code">
                        </mat-form-field>
                        <mat-form-field appearance="outline" class="ml-3">
                            <mat-label>Ville</mat-label>
                            <input matInput formControlName="city">
                        </mat-form-field>
                    </div>
                    <div>
                        <app-string-auto-complete
                            inputLabel="Pays"
                            [control]='locationCountry'
                            [autoCompleteList]='countries'>
                        </app-string-auto-complete>
                    </div>
                    <div class="bank-info-small">
                        <a mat-button (click)="addBankInformation()">
                            <mat-icon>account_balance</mat-icon>
                            Préciser la banque actuelle
                        </a>
                    </div>
                </mat-card-content>
            </div>
    </mat-card>

    <mat-card formGroupName='financial_results' class="mat-elevation-z4 mb-1 mr-1">
        <div>
            <mat-card-header>
                <mat-card-title>CA et bénéfice</mat-card-title>
            </mat-card-header>
        </div>
        <mat-card-content class="d-flex flex-column justify-content-around">
            <div>
                <mat-form-field formGroupName="profits_Nminus1" appearance="outline" class="mr-1 small-input">
                    <mat-label>CA année N-1</mat-label>
                    <input type="number" matInput formControlName="figure">
                </mat-form-field>
                <mat-form-field formGroupName="profits_Nminus1" appearance="outline" class="mr-1 weight-input pr-0">
                    <mat-label>Pondération (%)</mat-label>
                    <input type="number" matInput appLimitNumber minNumber="0" maxNumber="100" formControlName="weight">
                </mat-form-field>
            </div>
            <div>
                <mat-form-field formGroupName="profits_Nminus2" appearance="outline" class="mr-1 small-input">
                    <mat-label>CA année N-2</mat-label>
                    <input type="number" matInput formControlName="figure">
                </mat-form-field>
                <mat-form-field formGroupName="profits_Nminus1" appearance="outline" class="mr-1 weight-input pr-0">
                    <mat-label>Pondération (%)</mat-label>
                    <input type="number" matInput appLimitNumber minNumber="0" maxNumber="100" formControlName="weight">
                </mat-form-field>
            </div>
            <div>
                <mat-form-field formGroupName="profits_Nminus3" appearance="outline" class="mr-1 small-input">
                    <mat-label>CA année N-3</mat-label>
                    <input type="number" matInput formControlName="figure">
                </mat-form-field>
                <mat-form-field formGroupName="profits_Nminus1" appearance="outline" class="mr-1 weight-input pr-0">
                    <mat-label>Pondération (%)</mat-label>
                    <input type="number" matInput appLimitNumber minNumber="0" maxNumber="100" formControlName="weight">
                </mat-form-field>
            </div>

            <div>
                <mat-form-field formGroupName="turnover_Nminus1" appearance="outline" class="mr-1 small-input">
                    <mat-label>Bénéfices année N-1</mat-label>
                    <input type="number" matInput formControlName="figure">
                </mat-form-field>
                <mat-form-field formGroupName="turnover_Nminus1" appearance="outline" class="mr-1 weight-input pr-0">
                    <mat-label>Pondération (%)</mat-label>
                    <input type="number" matInput appLimitNumber minNumber="0" maxNumber="100" formControlName="weight">
                </mat-form-field>
            </div>
            <div>
                <mat-form-field formGroupName="turnover_Nminus2" appearance="outline" class="mr-1 small-input">
                    <mat-label>Bénéfices année N-2</mat-label>
                    <input type="number" matInput formControlName="figure">
                </mat-form-field>
                <mat-form-field formGroupName="turnover_Nminus1" appearance="outline" class="mr-1 weight-input pr-0">
                    <mat-label>Pondération (%)</mat-label>
                    <input type="number" matInput appLimitNumber minNumber="0" maxNumber="100" formControlName="weight">
                </mat-form-field>
            </div>
            <div>
                <mat-form-field formGroupName="turnover_Nminus3" appearance="outline" class="mr-1 small-input">
                    <mat-label>Bénéfices année N-3</mat-label>
                    <input type="number" matInput formControlName="figure">
                </mat-form-field>
                <mat-form-field formGroupName="turnover_Nminus1" appearance="outline" class="mr-1 weight-input pr-0">
                    <mat-label>Pondération (%)</mat-label>
                    <input type="number" matInput appLimitNumber minNumber="0" maxNumber="100" formControlName="weight">
                </mat-form-field>
            </div>
        </mat-card-content>
    </mat-card>
</div>
