// import { TestBed } from '@angular/core/testing';
// import { Utils } from 'src/app/utils/utils';

// describe('Utils', () => {

//   it('must returns burdens', () => {
//     expect(JSON.stringify(Utils.getBurdens([{yearly_rate: 0, preamortizations: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], preamortization_cost: 0, interests_cost: 0, insurance_cost: 0, insurances: [{ monthly_values: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0] }], amortizations: [56, 56, 56, 56, 56, 56, 56, 56, 56, 56, 56, 56, 56, 56, 56, 56, 56, 56, 56, 56, 56, 56, 56, 56, 56, 56, 56, 56, 56, 56, 56, 56, 56, 56, 56, 56], amount: 2016, type: 'CHARGE', duration_months: 36, guaranty: null, released_amounts: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], remaining_capital: [0, -56, -112, -168, -224, -280, -336, -392, -448, -504, -560, -616, -672, -728, -784, -840, -896, -952, -1008, -1064, -1120, -1176, -1232, -1288, -1344, -1400, -1456, -1512, -1568, -1624, -1680, -1736, -1792, -1848, -1904, -1960], grace_period: null, interests: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]}, {yearly_rate: 0, preamortizations: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], preamortization_cost: 0, interests_cost: 0, insurance_cost: 0, insurances: [{ monthly_values: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0] }], amortizations: [120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120], amount: 2880, type: 'CHARGE', duration_months: 24, guaranty: null, released_amounts: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], remaining_capital: [0, -120, -240, -360, -480, -600, -720, -840, -960, -1080, -1200, -1320, -1440, -1560, -1680, -1800, -1920, -2040, -2160, -2280, -2400, -2520, -2640, -2760], grace_period: null, interests: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]}]))).toBe(JSON.stringify([{ startMonth: 1, endMonth: 36, burdenValue: 56 }, { startMonth: 1, endMonth: 24, burdenValue: 120 }]));
//   });


//   it('must returns bridges', () => {
//     expect(JSON.stringify(Utils.getBridges([{yearly_rate: 4, preamortizations: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], preamortization_cost: 0, interests_cost: 8000, insurance_cost: 0, insurances: [{ monthly_values: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]}], amortizations: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 100000], amount: 100000, type: 'BRIDGE', duration_months: 24, guaranty: null, released_amounts: [100000, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], remaining_capital: [100000, 100000, 100000, 100000, 100000, 100000, 100000, 100000, 100000, 100000, 100000, 100000, 100000, 100000, 100000, 100000, 100000, 100000, 100000, 100000, 100000, 100000, 100000, 100000], grace_period: {type: 'PARTIAL', length: 23}, interests: [333.33, 333.33, 333.33, 333.33, 333.33, 333.33, 333.33, 333.33, 333.33, 333.33, 333.33, 333.33, 333.33, 333.33, 333.33, 333.33, 333.33, 333.33, 333.33, 333.33, 333.33, 333.33, 333.33, 333.33]}, {yearly_rate: 1, preamortizations: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], preamortization_cost: 0, interests_cost: 933.33, insurance_cost: 0, insurances: [{ monthly_values: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]}], amortizations: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 20000], amount: 20000, type: 'BRIDGE', duration_months: 56, guaranty: null, released_amounts: [20000, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], remaining_capital: [20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000], grace_period: {type: 'PARTIAL', length: 55}, interests: [16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67]}]))).toBe(JSON.stringify([{ duration: 24, amount: 100000 }, { duration: 56, amount: 20000 }]));
//   });


//   it('ptz must returns not elligible', () => {
//     expect(Utils.isEligiblePtz([{yearly_rate: 4, preamortizations: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], preamortization_cost: 0, interests_cost: 8000, insurance_cost: 0, insurances: [{ monthly_values: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]}], amortizations: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 100000], amount: 100000, type: 'BRIDGE', duration_months: 24, guaranty: null, released_amounts: [100000, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], remaining_capital: [100000, 100000, 100000, 100000, 100000, 100000, 100000, 100000, 100000, 100000, 100000, 100000, 100000, 100000, 100000, 100000, 100000, 100000, 100000, 100000, 100000, 100000, 100000, 100000], grace_period: {type: 'PARTIAL', length: 23}, interests: [333.33, 333.33, 333.33, 333.33, 333.33, 333.33, 333.33, 333.33, 333.33, 333.33, 333.33, 333.33, 333.33, 333.33, 333.33, 333.33, 333.33, 333.33, 333.33, 333.33, 333.33, 333.33, 333.33, 333.33]}]) === false).toBeTruthy();
//   });

//   it('must returns longest loan', () => {
//     expect(Utils.getMaxLoanDuration([{insurances: [{ monthly_values: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]}], grace_period: null, insurance_cost: 0, preamortization_cost: 0, interests: [151.37, 150.15, 148.93, 147.71, 146.49, 145.27, 144.05, 142.82, 141.6, 140.38, 139.15, 137.93, 136.7, 135.47, 134.25, 133.02, 131.79, 130.56, 129.33, 128.1, 126.87, 125.64, 124.4, 123.17, 121.93, 120.7, 119.46, 118.23, 116.99, 115.75, 114.51, 113.27, 112.03, 110.79, 109.55, 108.31, 107.06, 105.82, 104.57, 103.33, 102.08, 100.84, 99.59, 98.34, 97.09, 95.84, 94.59, 93.34, 92.09, 90.83, 89.58, 88.33, 87.07, 85.82, 84.56, 83.3, 82.05, 80.79, 79.53, 78.27, 77.01, 75.75, 74.48, 73.22, 71.96, 70.69, 69.43, 68.16, 66.89, 65.63, 64.36, 63.09, 61.82, 60.55, 59.28, 58.01, 56.73, 55.46, 54.19, 52.91, 51.64, 50.36, 49.08, 47.81, 46.53, 45.25, 43.97, 42.69, 41.41, 40.12, 38.84, 37.56, 36.27, 34.99, 33.7, 32.41, 31.13, 29.84, 28.55, 27.26, 25.97, 24.68, 23.39, 22.09, 20.8, 19.51, 18.21, 16.91, 15.62, 14.32, 13.02, 11.72, 10.42, 9.12, 7.82, 6.52, 5.22, 3.91, 2.61, 1.31], amount: 259484.36, guaranty: null, preamortizations: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], yearly_rate: 0.7, interests_cost: 9263.54, remaining_capital: [259484.36, 257396.16, 255306.74, 253216.1, 251124.25, 249031.17, 246936.87, 244841.35, 242744.61, 240646.65, 238547.46, 236447.05, 234345.41, 232242.54, 230138.45, 228033.13, 225926.59, 223818.81, 221709.81, 219599.57, 217488.11, 215375.41, 213261.48, 211146.31, 209029.92, 206912.29, 204793.42, 202673.32, 200551.98, 198429.4, 196305.58, 194180.53, 192054.23, 189926.7, 187797.93, 185667.91, 183536.65, 181404.15, 179270.4, 177135.41, 174999.17, 172861.69, 170722.96, 168582.98, 166441.75, 164299.28, 162155.55, 160010.58, 157864.35, 155716.88, 153568.14, 151418.16, 149266.92, 147114.43, 144960.68, 142805.67, 140649.41, 138491.89, 136333.11, 134173.07, 132011.77, 129849.22, 127685.4, 125520.31, 123353.97, 121186.36, 119017.48, 116847.34, 114675.94, 112503.27, 110329.33, 108154.12, 105977.65, 103799.9, 101620.88, 99440.6, 97259.04, 95076.21, 92892.1, 90706.72, 88520.07, 86332.14, 84142.93, 81952.45, 79760.69, 77567.65, 75373.34, 73177.74, 70980.86, 68782.7, 66583.26, 64382.53, 62180.52, 59977.23, 57772.65, 55566.78, 53359.63, 51151.19, 48941.46, 46730.45, 44518.14, 42304.54, 40089.65, 37873.47, 35656, 33437.24, 31217.17, 28995.82, 26773.17, 24549.22, 22323.97, 20097.43, 17869.59, 15640.44, 13410, 11178.26, 8945.21, 6710.87, 4475.22, 2238.26], type: 'FREE', duration_months: 120, amortizations: [2088.2, 2089.42, 2090.64, 2091.86, 2093.08, 2094.3, 2095.52, 2096.74, 2097.96, 2099.19, 2100.41, 2101.64, 2102.86, 2104.09, 2105.32, 2106.55, 2107.78, 2109, 2110.24, 2111.47, 2112.7, 2113.93, 2115.16, 2116.4, 2117.63, 2118.87, 2120.1, 2121.34, 2122.58, 2123.82, 2125.05, 2126.29, 2127.53, 2128.78, 2130.02, 2131.26, 2132.5, 2133.75, 2134.99, 2136.24, 2137.48, 2138.73, 2139.98, 2141.23, 2142.47, 2143.72, 2144.98, 2146.23, 2147.48, 2148.73, 2149.98, 2151.24, 2152.49, 2153.75, 2155.01, 2156.26, 2157.52, 2158.78, 2160.04, 2161.3, 2162.56, 2163.82, 2165.08, 2166.35, 2167.61, 2168.87, 2170.14, 2171.4, 2172.67, 2173.94, 2175.21, 2176.48, 2177.75, 2179.02, 2180.29, 2181.56, 2182.83, 2184.1, 2185.38, 2186.65, 2187.93, 2189.21, 2190.48, 2191.76, 2193.04, 2194.32, 2195.6, 2196.88, 2198.16, 2199.44, 2200.73, 2202.01, 2203.29, 2204.58, 2205.87, 2207.15, 2208.44, 2209.73, 2211.02, 2212.31, 2213.6, 2214.89, 2216.18, 2217.47, 2218.77, 2220.06, 2221.36, 2222.65, 2223.95, 2225.25, 2226.54, 2227.84, 2229.14, 2230.44, 2231.74, 2233.05, 2234.35, 2235.65, 2236.96, 2238.26], released_amounts: [259484.36, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]}, {insurances: [{ monthly_values: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]}], grace_period: null, insurance_cost: 0, preamortization_cost: 0, interests: [235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 235.43, 233.57, 231.7, 229.83, 227.96, 226.09, 224.21, 222.34, 220.46, 218.58, 216.7, 214.82, 212.94, 211.05, 209.16, 207.28, 205.39, 203.49, 201.6, 199.71, 197.81, 195.91, 194.01, 192.11, 190.21, 188.31, 186.4, 184.49, 182.59, 180.68, 178.76, 176.85, 174.93, 173.02, 171.1, 169.18, 167.26, 165.33, 163.41, 161.48, 159.56, 157.63, 155.7, 153.76, 151.83, 149.89, 147.95, 146.02, 144.07, 142.13, 140.19, 138.24, 136.3, 134.35, 132.4, 130.44, 128.49, 126.53, 124.58, 122.62, 120.66, 118.7, 116.73, 114.77, 112.8, 110.83, 108.86, 106.89, 104.92, 102.94, 100.96, 98.99, 97.01, 95.02, 93.04, 91.06, 89.07, 87.08, 85.09, 83.1, 81.11, 79.11, 77.12, 75.12, 73.12, 71.12, 69.11, 67.11, 65.1, 63.09, 61.08, 59.07, 57.06, 55.04, 53.03, 51.01, 48.99, 46.97, 44.94, 42.92, 40.89, 38.86, 36.83, 34.8, 32.77, 30.73, 28.7, 26.66, 24.62, 22.57, 20.53, 18.49, 16.44, 14.39, 12.34, 10.29, 8.23, 6.18, 4.12, 2.06], amount: 282520.95, guaranty: null, preamortizations: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], yearly_rate: 1, interests_cost: 42731.14, remaining_capital: [282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 282520.95, 280281.39, 278039.96, 275796.66, 273551.49, 271304.45, 269055.53, 266804.75, 264552.08, 262297.54, 260041.13, 257782.83, 255522.65, 253260.58, 250996.63, 248730.8, 246463.07, 244193.46, 241921.95, 239648.55, 237373.26, 235096.07, 232816.98, 230536, 228253.11, 225968.32, 223681.63, 221393.03, 219102.53, 216810.11, 214515.79, 212219.55, 209921.4, 207621.33, 205319.35, 203015.45, 200709.63, 198401.89, 196092.22, 193780.63, 191467.12, 189151.67, 186834.3, 184514.99, 182193.76, 179870.59, 177545.48, 175218.43, 172889.45, 170558.52, 168225.65, 165890.84, 163554.08, 161215.38, 158874.73, 156532.12, 154187.56, 151841.05, 149492.59, 147142.17, 144789.78, 142435.44, 140079.14, 137720.87, 135360.64, 132998.44, 130634.27, 128268.13, 125900.02, 123529.94, 121157.88, 118783.85, 116407.83, 114029.84, 111649.86, 109267.91, 106883.96, 104498.03, 102110.11, 99720.21, 97328.31, 94934.41, 92538.52, 90140.64, 87740.76, 85338.88, 82934.99, 80529.1, 78121.21, 75711.31, 73299.4, 70885.49, 68469.56, 66051.62, 63631.66, 61209.69, 58785.69, 56359.68, 53931.65, 51501.59, 49069.51, 46635.4, 44199.26, 41761.1, 39320.9, 36878.66, 34434.4, 31988.09, 29539.75, 27089.37, 24636.94, 22182.47, 19725.96, 17267.39, 14806.78, 12344.12, 9879.41, 7412.64, 4943.82, 2472.94], type: 'FREE', duration_months: 240, amortizations: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2239.57, 2241.43, 2243.3, 2245.17, 2247.04, 2248.91, 2250.79, 2252.66, 2254.54, 2256.42, 2258.3, 2260.18, 2262.06, 2263.95, 2265.84, 2267.72, 2269.61, 2271.51, 2273.4, 2275.29, 2277.19, 2279.09, 2280.99, 2282.89, 2284.79, 2286.69, 2288.6, 2290.51, 2292.41, 2294.32, 2296.24, 2298.15, 2300.07, 2301.98, 2303.9, 2305.82, 2307.74, 2309.67, 2311.59, 2313.52, 2315.44, 2317.37, 2319.3, 2321.24, 2323.17, 2325.11, 2327.05, 2328.98, 2330.93, 2332.87, 2334.81, 2336.76, 2338.7, 2340.65, 2342.6, 2344.56, 2346.51, 2348.47, 2350.42, 2352.38, 2354.34, 2356.3, 2358.27, 2360.23, 2362.2, 2364.17, 2366.14, 2368.11, 2370.08, 2372.06, 2374.04, 2376.01, 2377.99, 2379.98, 2381.96, 2383.94, 2385.93, 2387.92, 2389.91, 2391.9, 2393.89, 2395.89, 2397.88, 2399.88, 2401.88, 2403.88, 2405.89, 2407.89, 2409.9, 2411.91, 2413.92, 2415.93, 2417.94, 2419.96, 2421.97, 2423.99, 2426.01, 2428.03, 2430.06, 2432.08, 2434.11, 2436.14, 2438.17, 2440.2, 2442.23, 2444.27, 2446.3, 2448.34, 2450.38, 2452.43, 2454.47, 2456.51, 2458.56, 2460.61, 2462.66, 2464.71, 2466.77, 2468.82, 2470.88, 2472.94], released_amounts: [282520.95, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]}]) === 240).toBeTruthy();
//   });


//   it('must return formatted amount and currency', () => {
//     expect(Utils.toLocale(1000000, 'EUR') === '1 000 000,00 €').toBeTruthy();
//   });


//   it('loan to be recap', () => {
//     const loansRecap = Utils.generateLoanRecap([{amortizations: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2241.81, 2243.87, 2245.93, 2247.99, 2250.05, 2252.11, 2254.17, 2256.24, 2258.31, 2260.38, 2262.45, 2264.52, 2266.6, 2268.68, 2270.76, 2272.84, 2274.92, 2277.01, 2279.09, 2281.18, 2283.27, 2285.37, 2287.46, 2289.56, 2291.66, 2293.76, 2295.86, 2297.97, 2300.07, 2302.18, 2304.29, 2306.4, 2308.52, 2310.63, 2312.75, 2314.87, 2316.99, 2319.12, 2321.24, 2323.37, 2325.5, 2327.63, 2329.77, 2331.9, 2334.04, 2336.18, 2338.32, 2340.46, 2342.61, 2344.76, 2346.91, 2349.06, 2351.21, 2353.37, 2355.52, 2357.68, 2359.84, 2362.01, 2364.17, 2366.34, 2368.51, 2370.68, 2372.85, 2375.03, 2377.21, 2379.38, 2381.57, 2383.75, 2385.93, 2388.12, 2390.31, 2392.5, 2394.69, 2396.89, 2399.09, 2401.29, 2403.49, 2405.69, 2407.9, 2410.1, 2412.31, 2414.52, 2416.74, 2418.95, 2421.17, 2423.39, 2425.61, 2427.83, 2430.06, 2432.29, 2434.52, 2436.75, 2438.98, 2441.22, 2443.45, 2445.69, 2447.94, 2450.18, 2452.43, 2454.67, 2456.92, 2459.18, 2461.43, 2463.69, 2465.95, 2468.21, 2470.47, 2472.73], preamortization_cost: 0, type: 'FREE', amount: 254383.79, duration_months: 120, insurance_cost: 5714.34, interests: [148.39, 148.39, 148.39, 148.39, 148.39, 148.39, 148.39, 148.39, 148.39, 148.39, 148.39, 148.39, 148.39, 147.08, 145.77, 144.46, 143.15, 141.84, 140.53, 139.21, 137.9, 136.58, 135.26, 133.94, 132.62, 131.3, 129.97, 128.65, 127.32, 126, 124.67, 123.34, 122.01, 120.68, 119.34, 118.01, 116.67, 115.34, 114, 112.66, 111.32, 109.98, 108.63, 107.29, 105.94, 104.6, 103.25, 101.9, 100.55, 99.2, 97.84, 96.49, 95.14, 93.78, 92.42, 91.06, 89.7, 88.34, 86.98, 85.61, 84.25, 82.88, 81.51, 80.15, 78.77, 77.4, 76.03, 74.66, 73.28, 71.9, 70.53, 69.15, 67.77, 66.39, 65, 63.62, 62.23, 60.85, 59.46, 58.07, 56.68, 55.29, 53.89, 52.5, 51.1, 49.71, 48.31, 46.91, 45.51, 44.11, 42.7, 41.3, 39.89, 38.49, 37.08, 35.67, 34.26, 32.84, 31.43, 30.02, 28.6, 27.18, 25.76, 24.34, 22.92, 21.5, 20.07, 18.65, 17.22, 15.79, 14.36, 12.93, 11.5, 10.07, 8.63, 7.2, 5.76, 4.32, 2.88, 1.44], preamortizations: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], interests_cost: 10000.09, remaining_capital: [254383.79, 254383.79, 254383.79, 254383.79, 254383.79, 254383.79, 254383.79, 254383.79, 254383.79, 254383.79, 254383.79, 254383.79, 254383.79, 252141.97, 249898.1, 247652.18, 245404.19, 243154.15, 240902.04, 238647.86, 236391.62, 234133.32, 231872.94, 229610.49, 227345.97, 225079.37, 222810.69, 220539.93, 218267.09, 215992.17, 213715.16, 211436.07, 209154.89, 206871.61, 204586.24, 202298.78, 200009.22, 197717.56, 195423.8, 193127.94, 190829.98, 188529.9, 186227.72, 183923.43, 181617.03, 179308.51, 176997.88, 174685.13, 172370.25, 170053.26, 167734.14, 165412.9, 163089.53, 160764.03, 158436.39, 156106.63, 153774.72, 151440.68, 149104.5, 146766.18, 144425.72, 142083.11, 139738.35, 137391.45, 135042.39, 132691.18, 130337.81, 127982.29, 125624.6, 123264.76, 120902.75, 118538.58, 116172.24, 113803.73, 111433.05, 109060.2, 106685.17, 104307.96, 101928.58, 99547.01, 97163.27, 94777.33, 92389.21, 89998.9, 87606.4, 85211.71, 82814.82, 80415.73, 78014.45, 75610.96, 73205.27, 70797.37, 68387.27, 65974.96, 63560.44, 61143.7, 58724.75, 56303.58, 53880.19, 51454.58, 49026.75, 46596.69, 44164.4, 41729.89, 39293.14, 36854.16, 34412.94, 31969.49, 29523.79, 27075.85, 24625.67, 22173.25, 19718.57, 17261.65, 14802.47, 12341.04, 9877.35, 7411.41, 4943.2, 2472.73], released_amounts: [254383.79, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], guaranty: {type: 'CREDIT_LOGEMENT_CLASSIC', mutualized_guaranty_contribution: 2494.02, guaranty_commission: 620}, grace_period: {type: 'PARTIAL', length: 12}, yearly_rate: 0.7, insurances: [{  insurance: {type: 'REMAINING_CAPITAL', rate: 0.4}, monthly_values: [84.79, 84.79, 84.79, 84.79, 84.79, 84.79, 84.79, 84.79, 84.79, 84.79, 84.79, 84.79, 84.79, 84.05, 83.3, 82.55, 81.8, 81.05, 80.3, 79.55, 78.8, 78.04, 77.29, 76.54, 75.78, 75.03, 74.27, 73.51, 72.76, 72, 71.24, 70.48, 69.72, 68.96, 68.2, 67.43, 66.67, 65.91, 65.14, 64.38, 63.61, 62.84, 62.08, 61.31, 60.54, 59.77, 59, 58.23, 57.46, 56.68, 55.91, 55.14, 54.36, 53.59, 52.81, 52.04, 51.26, 50.48, 49.7, 48.92, 48.14, 47.36, 46.58, 45.8, 45.01, 44.23, 43.45, 42.66, 41.87, 41.09, 40.3, 39.51, 38.72, 37.93, 37.14, 36.35, 35.56, 34.77, 33.98, 33.18, 32.39, 31.59, 30.8, 30, 29.2, 28.4, 27.6, 26.81, 26, 25.2, 24.4, 23.6, 22.8, 21.99, 21.19, 20.38, 19.57, 18.77, 17.96, 17.15, 16.34, 15.53, 14.72, 13.91, 13.1, 12.28, 11.47, 10.66, 9.84, 9.03, 8.21, 7.39, 6.57, 5.75, 4.93, 4.11, 3.29, 2.47, 1.65, 0.82]}]}]).loansRecap;

//     expect(loansRecap[1][0] === 'TOTAL' ).toBeTruthy();
//     expect(loansRecap[1][1] === '' ).toBeTruthy();
//     expect(loansRecap[1][2] === '254 383,79 €' ).toBeTruthy();
//     expect(loansRecap[1][3] === '' ).toBeTruthy();
//     expect(loansRecap[1][4] === '' ).toBeTruthy();
//     expect(loansRecap[1][5] === '10 000,09 €' ).toBeTruthy();
//     expect(loansRecap[1][6] === '' ).toBeTruthy();
//     expect(loansRecap[1][7] === '' ).toBeTruthy();
//     expect(loansRecap[1][8] === '' ).toBeTruthy();
//     expect(loansRecap[1][9] === '3 114,02 €' ).toBeTruthy();
//     expect(loansRecap[1][10] === '' ).toBeTruthy();
//     expect(loansRecap[1][11] === '' ).toBeTruthy();
//     expect(loansRecap[1][12] === '5 714,34 €' ).toBeTruthy();
//   });


//   it('loan without guaranty nor insurance nor grace to be recap', () => {
//     const loansRecap = Utils.generateLoanRecap([{amortizations: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2241.81, 2243.87, 2245.93, 2247.99, 2250.05, 2252.11, 2254.17, 2256.24, 2258.31, 2260.38, 2262.45, 2264.52, 2266.6, 2268.68, 2270.76, 2272.84, 2274.92, 2277.01, 2279.09, 2281.18, 2283.27, 2285.37, 2287.46, 2289.56, 2291.66, 2293.76, 2295.86, 2297.97, 2300.07, 2302.18, 2304.29, 2306.4, 2308.52, 2310.63, 2312.75, 2314.87, 2316.99, 2319.12, 2321.24, 2323.37, 2325.5, 2327.63, 2329.77, 2331.9, 2334.04, 2336.18, 2338.32, 2340.46, 2342.61, 2344.76, 2346.91, 2349.06, 2351.21, 2353.37, 2355.52, 2357.68, 2359.84, 2362.01, 2364.17, 2366.34, 2368.51, 2370.68, 2372.85, 2375.03, 2377.21, 2379.38, 2381.57, 2383.75, 2385.93, 2388.12, 2390.31, 2392.5, 2394.69, 2396.89, 2399.09, 2401.29, 2403.49, 2405.69, 2407.9, 2410.1, 2412.31, 2414.52, 2416.74, 2418.95, 2421.17, 2423.39, 2425.61, 2427.83, 2430.06, 2432.29, 2434.52, 2436.75, 2438.98, 2441.22, 2443.45, 2445.69, 2447.94, 2450.18, 2452.43, 2454.67, 2456.92, 2459.18, 2461.43, 2463.69, 2465.95, 2468.21, 2470.47, 2472.73], preamortization_cost: 0, type: 'FREE', amount: 254383.79, duration_months: 120, insurance_cost: 0.00, interests: [148.39, 148.39, 148.39, 148.39, 148.39, 148.39, 148.39, 148.39, 148.39, 148.39, 148.39, 148.39, 148.39, 147.08, 145.77, 144.46, 143.15, 141.84, 140.53, 139.21, 137.9, 136.58, 135.26, 133.94, 132.62, 131.3, 129.97, 128.65, 127.32, 126, 124.67, 123.34, 122.01, 120.68, 119.34, 118.01, 116.67, 115.34, 114, 112.66, 111.32, 109.98, 108.63, 107.29, 105.94, 104.6, 103.25, 101.9, 100.55, 99.2, 97.84, 96.49, 95.14, 93.78, 92.42, 91.06, 89.7, 88.34, 86.98, 85.61, 84.25, 82.88, 81.51, 80.15, 78.77, 77.4, 76.03, 74.66, 73.28, 71.9, 70.53, 69.15, 67.77, 66.39, 65, 63.62, 62.23, 60.85, 59.46, 58.07, 56.68, 55.29, 53.89, 52.5, 51.1, 49.71, 48.31, 46.91, 45.51, 44.11, 42.7, 41.3, 39.89, 38.49, 37.08, 35.67, 34.26, 32.84, 31.43, 30.02, 28.6, 27.18, 25.76, 24.34, 22.92, 21.5, 20.07, 18.65, 17.22, 15.79, 14.36, 12.93, 11.5, 10.07, 8.63, 7.2, 5.76, 4.32, 2.88, 1.44], preamortizations: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], interests_cost: 10000.09, remaining_capital: [254383.79, 254383.79, 254383.79, 254383.79, 254383.79, 254383.79, 254383.79, 254383.79, 254383.79, 254383.79, 254383.79, 254383.79, 254383.79, 252141.97, 249898.1, 247652.18, 245404.19, 243154.15, 240902.04, 238647.86, 236391.62, 234133.32, 231872.94, 229610.49, 227345.97, 225079.37, 222810.69, 220539.93, 218267.09, 215992.17, 213715.16, 211436.07, 209154.89, 206871.61, 204586.24, 202298.78, 200009.22, 197717.56, 195423.8, 193127.94, 190829.98, 188529.9, 186227.72, 183923.43, 181617.03, 179308.51, 176997.88, 174685.13, 172370.25, 170053.26, 167734.14, 165412.9, 163089.53, 160764.03, 158436.39, 156106.63, 153774.72, 151440.68, 149104.5, 146766.18, 144425.72, 142083.11, 139738.35, 137391.45, 135042.39, 132691.18, 130337.81, 127982.29, 125624.6, 123264.76, 120902.75, 118538.58, 116172.24, 113803.73, 111433.05, 109060.2, 106685.17, 104307.96, 101928.58, 99547.01, 97163.27, 94777.33, 92389.21, 89998.9, 87606.4, 85211.71, 82814.82, 80415.73, 78014.45, 75610.96, 73205.27, 70797.37, 68387.27, 65974.96, 63560.44, 61143.7, 58724.75, 56303.58, 53880.19, 51454.58, 49026.75, 46596.69, 44164.4, 41729.89, 39293.14, 36854.16, 34412.94, 31969.49, 29523.79, 27075.85, 24625.67, 22173.25, 19718.57, 17261.65, 14802.47, 12341.04, 9877.35, 7411.41, 4943.2, 2472.73], released_amounts: [254383.79, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], guaranty: null, grace_period: null, yearly_rate: 0.7, insurances: [{ monthly_values: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]}]}]).loansRecap;

//     expect(loansRecap[1][0] === 'TOTAL' ).toBeTruthy();
//     expect(loansRecap[1][1] === '' ).toBeTruthy();
//     expect(loansRecap[1][2] === '254 383,79 €' ).toBeTruthy();
//     expect(loansRecap[1][3] === '' ).toBeTruthy();
//     expect(loansRecap[1][4] === '' ).toBeTruthy();
//     expect(loansRecap[1][5] === '10 000,09 €' ).toBeTruthy();
//     expect(loansRecap[1][6] === '' ).toBeTruthy();
//     expect(loansRecap[1][7] === '' ).toBeTruthy();
//     expect(loansRecap[1][8] === '' ).toBeTruthy();
//     expect(loansRecap[1][9] === '0,00 €' ).toBeTruthy();
//     expect(loansRecap[1][10] === '' ).toBeTruthy();
//     expect(loansRecap[1][11] === '' ).toBeTruthy();
//     expect(loansRecap[1][12] === '0,00 €' ).toBeTruthy();
//   });


//   it('total cost must be computed', () => {
//     const loansDetailedTotalCost = Utils.computeLoansTotalCosts([{amortizations: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2241.81, 2243.87, 2245.93, 2247.99, 2250.05, 2252.11, 2254.17, 2256.24, 2258.31, 2260.38, 2262.45, 2264.52, 2266.6, 2268.68, 2270.76, 2272.84, 2274.92, 2277.01, 2279.09, 2281.18, 2283.27, 2285.37, 2287.46, 2289.56, 2291.66, 2293.76, 2295.86, 2297.97, 2300.07, 2302.18, 2304.29, 2306.4, 2308.52, 2310.63, 2312.75, 2314.87, 2316.99, 2319.12, 2321.24, 2323.37, 2325.5, 2327.63, 2329.77, 2331.9, 2334.04, 2336.18, 2338.32, 2340.46, 2342.61, 2344.76, 2346.91, 2349.06, 2351.21, 2353.37, 2355.52, 2357.68, 2359.84, 2362.01, 2364.17, 2366.34, 2368.51, 2370.68, 2372.85, 2375.03, 2377.21, 2379.38, 2381.57, 2383.75, 2385.93, 2388.12, 2390.31, 2392.5, 2394.69, 2396.89, 2399.09, 2401.29, 2403.49, 2405.69, 2407.9, 2410.1, 2412.31, 2414.52, 2416.74, 2418.95, 2421.17, 2423.39, 2425.61, 2427.83, 2430.06, 2432.29, 2434.52, 2436.75, 2438.98, 2441.22, 2443.45, 2445.69, 2447.94, 2450.18, 2452.43, 2454.67, 2456.92, 2459.18, 2461.43, 2463.69, 2465.95, 2468.21, 2470.47, 2472.73], preamortization_cost: 0, type: 'FREE', amount: 254383.79, duration_months: 120, insurance_cost: 5714.34, interests: [148.39, 148.39, 148.39, 148.39, 148.39, 148.39, 148.39, 148.39, 148.39, 148.39, 148.39, 148.39, 148.39, 147.08, 145.77, 144.46, 143.15, 141.84, 140.53, 139.21, 137.9, 136.58, 135.26, 133.94, 132.62, 131.3, 129.97, 128.65, 127.32, 126, 124.67, 123.34, 122.01, 120.68, 119.34, 118.01, 116.67, 115.34, 114, 112.66, 111.32, 109.98, 108.63, 107.29, 105.94, 104.6, 103.25, 101.9, 100.55, 99.2, 97.84, 96.49, 95.14, 93.78, 92.42, 91.06, 89.7, 88.34, 86.98, 85.61, 84.25, 82.88, 81.51, 80.15, 78.77, 77.4, 76.03, 74.66, 73.28, 71.9, 70.53, 69.15, 67.77, 66.39, 65, 63.62, 62.23, 60.85, 59.46, 58.07, 56.68, 55.29, 53.89, 52.5, 51.1, 49.71, 48.31, 46.91, 45.51, 44.11, 42.7, 41.3, 39.89, 38.49, 37.08, 35.67, 34.26, 32.84, 31.43, 30.02, 28.6, 27.18, 25.76, 24.34, 22.92, 21.5, 20.07, 18.65, 17.22, 15.79, 14.36, 12.93, 11.5, 10.07, 8.63, 7.2, 5.76, 4.32, 2.88, 1.44], preamortizations: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], interests_cost: 10000.09, remaining_capital: [254383.79, 254383.79, 254383.79, 254383.79, 254383.79, 254383.79, 254383.79, 254383.79, 254383.79, 254383.79, 254383.79, 254383.79, 254383.79, 252141.97, 249898.1, 247652.18, 245404.19, 243154.15, 240902.04, 238647.86, 236391.62, 234133.32, 231872.94, 229610.49, 227345.97, 225079.37, 222810.69, 220539.93, 218267.09, 215992.17, 213715.16, 211436.07, 209154.89, 206871.61, 204586.24, 202298.78, 200009.22, 197717.56, 195423.8, 193127.94, 190829.98, 188529.9, 186227.72, 183923.43, 181617.03, 179308.51, 176997.88, 174685.13, 172370.25, 170053.26, 167734.14, 165412.9, 163089.53, 160764.03, 158436.39, 156106.63, 153774.72, 151440.68, 149104.5, 146766.18, 144425.72, 142083.11, 139738.35, 137391.45, 135042.39, 132691.18, 130337.81, 127982.29, 125624.6, 123264.76, 120902.75, 118538.58, 116172.24, 113803.73, 111433.05, 109060.2, 106685.17, 104307.96, 101928.58, 99547.01, 97163.27, 94777.33, 92389.21, 89998.9, 87606.4, 85211.71, 82814.82, 80415.73, 78014.45, 75610.96, 73205.27, 70797.37, 68387.27, 65974.96, 63560.44, 61143.7, 58724.75, 56303.58, 53880.19, 51454.58, 49026.75, 46596.69, 44164.4, 41729.89, 39293.14, 36854.16, 34412.94, 31969.49, 29523.79, 27075.85, 24625.67, 22173.25, 19718.57, 17261.65, 14802.47, 12341.04, 9877.35, 7411.41, 4943.2, 2472.73], released_amounts: [254383.79, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], guaranty: {type: 'CREDIT_LOGEMENT_CLASSIC', mutualized_guaranty_contribution: 2494.02, guaranty_commission: 620}, grace_period: {type: 'PARTIAL', length: 12}, yearly_rate: 0.7, insurances: [{ insurance: {type: 'REMAINING_CAPITAL', rate: 0.4}, monthly_values: [84.79, 84.79, 84.79, 84.79, 84.79, 84.79, 84.79, 84.79, 84.79, 84.79, 84.79, 84.79, 84.79, 84.05, 83.3, 82.55, 81.8, 81.05, 80.3, 79.55, 78.8, 78.04, 77.29, 76.54, 75.78, 75.03, 74.27, 73.51, 72.76, 72, 71.24, 70.48, 69.72, 68.96, 68.2, 67.43, 66.67, 65.91, 65.14, 64.38, 63.61, 62.84, 62.08, 61.31, 60.54, 59.77, 59, 58.23, 57.46, 56.68, 55.91, 55.14, 54.36, 53.59, 52.81, 52.04, 51.26, 50.48, 49.7, 48.92, 48.14, 47.36, 46.58, 45.8, 45.01, 44.23, 43.45, 42.66, 41.87, 41.09, 40.3, 39.51, 38.72, 37.93, 37.14, 36.35, 35.56, 34.77, 33.98, 33.18, 32.39, 31.59, 30.8, 30, 29.2, 28.4, 27.6, 26.81, 26, 25.2, 24.4, 23.6, 22.8, 21.99, 21.19, 20.38, 19.57, 18.77, 17.96, 17.15, 16.34, 15.53, 14.72, 13.91, 13.1, 12.28, 11.47, 10.66, 9.84, 9.03, 8.21, 7.39, 6.57, 5.75, 4.93, 4.11, 3.29, 2.47, 1.65, 0.82]}]}]);

//     expect(loansDetailedTotalCost.totalInterests === 10000.09 ).toBeTruthy();
//     expect(loansDetailedTotalCost.totalGuaranty === 3114.02 ).toBeTruthy();
//     expect(loansDetailedTotalCost.totalInsurance === 5714.34 ).toBeTruthy();
//   });


//   it('loan type human readable', () => {
//     const aFreeLoan = {type: 'FREE', yearly_rate: 0.7};
//     expect(Utils.loanTypeToHuman(aFreeLoan) === 'Prêt 0.7%' ).toBeTruthy();
//     expect(Utils.loanTypeEnumToHuman(aFreeLoan) === 'Prêt libre' ).toBeTruthy();

//     const aChargeLoan = {type: 'CHARGE', yearly_rate: 0.7};
//     expect(Utils.loanTypeToHuman(aChargeLoan) === 'Charge' ).toBeTruthy();
//     expect(Utils.loanTypeEnumToHuman(aChargeLoan) === 'Charge' ).toBeTruthy();

//     const aBridgeLoan = {type: 'BRIDGE', yearly_rate: 0.7};
//     expect(Utils.loanTypeToHuman(aBridgeLoan) === 'Relais 0.7%' ).toBeTruthy();
//     expect(Utils.loanTypeEnumToHuman(aBridgeLoan) === 'Prêt relais' ).toBeTruthy();

//     const aPTZLoan = {type: 'PTZ', yearly_rate: 0.0};
//     expect(Utils.loanTypeToHuman(aPTZLoan) === 'PTZ' ).toBeTruthy();
//     expect(Utils.loanTypeEnumToHuman(aPTZLoan) === 'PTZ' ).toBeTruthy();
//   });


//   it('round correctly', () => {
//     expect(Utils.roundFloat(100.123) === 100.12 ).toBeTruthy();
//   });


//   it('max instalement must be computed', () => {
//     const maxInstalement = Utils.getMaxInstalement([{type: 'BRIDGE', insurance_cost: 0, interests: [333.33, 333.33, 333.33, 333.33, 333.33, 333.33, 333.33, 333.33, 333.33, 333.33, 333.33, 333.33, 333.33, 333.33, 333.33, 333.33, 333.33, 333.33, 333.33, 333.33, 333.33, 333.33, 333.33, 333.33], remaining_capital: [100000, 100000, 100000, 100000, 100000, 100000, 100000, 100000, 100000, 100000, 100000, 100000, 100000, 100000, 100000, 100000, 100000, 100000, 100000, 100000, 100000, 100000, 100000, 100000], released_amounts: [100000, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], preamortizations: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], yearly_rate: 4, amount: 100000, duration_months: 24, interests_cost: 8000, preamortization_cost: 0, insurances: [{ monthly_values: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]}], amortizations: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 100000], grace_period: {type: 'PARTIAL', length: 23}, guaranty: null}, {type: 'BRIDGE', insurance_cost: 0, interests: [16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67, 16.67], remaining_capital: [20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000, 20000], released_amounts: [20000, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], preamortizations: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], yearly_rate: 1, amount: 20000, duration_months: 56, interests_cost: 933.33, preamortization_cost: 0, insurances: [{ monthly_values: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]}], amortizations: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 20000], grace_period: {type: 'PARTIAL', length: 55}, guaranty: null}, {type: 'CHARGE', insurance_cost: 0, interests: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], remaining_capital: [0, -56, -112, -168, -224, -280, -336, -392, -448, -504, -560, -616, -672, -728, -784, -840, -896, -952, -1008, -1064, -1120, -1176, -1232, -1288, -1344, -1400, -1456, -1512, -1568, -1624, -1680, -1736, -1792, -1848, -1904, -1960], released_amounts: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], preamortizations: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], yearly_rate: 0, amount: 2016, duration_months: 36, interests_cost: 0, preamortization_cost: 0, insurances: [{ monthly_values: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]}], amortizations: [56, 56, 56, 56, 56, 56, 56, 56, 56, 56, 56, 56, 56, 56, 56, 56, 56, 56, 56, 56, 56, 56, 56, 56, 56, 56, 56, 56, 56, 56, 56, 56, 56, 56, 56, 56], grace_period: null, guaranty: null}, {type: 'CHARGE', insurance_cost: 0, interests: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], remaining_capital: [0, -120, -240, -360, -480, -600, -720, -840, -960, -1080, -1200, -1320, -1440, -1560, -1680, -1800, -1920, -2040, -2160, -2280, -2400, -2520, -2640, -2760], released_amounts: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], preamortizations: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], yearly_rate: 0, amount: 2880, duration_months: 24, interests_cost: 0, preamortization_cost: 0, insurances: [{ monthly_values: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]}], amortizations: [120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120], grace_period: null, guaranty: null}, {type: 'FREE', insurance_cost: 0, interests: [0, 64.42, 178.27, 185.15, 195.86, 210.4, 228.78, 251, 277.06, 276.38, 275.7, 275.02, 274.33, 273.65, 272.96, 272.28, 271.59, 270.9, 270.22, 269.53, 268.84, 268.15, 267.46, 266.77, 266.08, 265.01, 263.94, 262.87, 261.8, 260.72, 259.65, 258.57, 257.5, 256.42, 255.35, 254.27, 253.19, 252.06, 250.93, 249.81, 248.68, 247.55, 246.41, 245.28, 244.15, 243.01, 241.88, 240.74, 239.61, 238.47, 237.33, 236.19, 235.05, 233.91, 232.76, 231.62, 230.47, 229.32, 228.15, 226.99, 225.83, 224.67, 223.5, 222.34, 221.17, 220, 218.84, 217.67, 216.5, 215.33, 214.15, 212.98, 211.81, 210.63, 209.45, 208.28, 207.1, 205.92, 204.74, 203.56, 202.38, 201.19, 200.01, 198.83, 197.64, 196.45, 195.27, 194.08, 192.89, 191.7, 190.5, 189.31, 188.12, 186.92, 185.73, 184.53, 183.33, 182.13, 180.93, 179.73, 178.53, 177.33, 176.12, 174.92, 173.71, 172.51, 171.3, 170.09, 168.88, 167.67, 166.46, 165.24, 164.03, 162.82, 161.6, 160.38, 159.17, 157.95, 156.73, 155.51, 154.28, 153.06, 151.84, 150.61, 149.39, 148.16, 146.93, 145.7, 144.47, 143.24, 142.01, 140.77, 139.54, 138.3, 137.07, 135.83, 134.59, 133.35, 132.11, 130.87, 129.63, 128.38, 127.14, 125.89, 124.65, 123.4, 122.15, 120.9, 119.65, 118.4, 117.15, 115.89, 114.64, 113.38, 112.12, 110.87, 109.61, 108.35, 107.08, 105.82, 104.56, 103.29, 102.03, 100.76, 99.5, 98.23, 96.96, 95.69, 94.41, 93.14, 91.87, 90.59, 89.32, 88.04, 86.76, 85.48, 84.2, 82.92, 81.64, 80.35, 79.07, 77.78, 76.5, 75.21, 73.92, 72.63, 71.34, 70.05, 68.75, 67.46, 66.16, 64.87, 63.57, 62.27, 60.97, 59.67, 58.37, 57.07, 55.76, 54.46, 53.15, 51.84, 50.53, 49.23, 47.91, 46.6, 45.29, 43.98, 42.66, 41.35, 40.03, 38.71, 37.39, 36.07, 34.75, 33.43, 32.1, 30.78, 29.45, 28.12, 26.8, 25.47, 24.14, 22.81, 21.47, 20.14, 18.8, 17.47, 16.13, 14.79, 13.45, 12.11, 10.77, 9.43, 8.09, 6.74, 5.4, 4.05, 2.7, 1.35], remaining_capital: [0, 0, 76267.72, 213000.7, 221266.64, 234131.66, 251599.58, 273674.24, 300359.46, 331659.09, 330839.57, 330019.37, 329198.49, 328376.92, 327554.66, 326731.72, 325908.1, 325083.78, 324258.79, 323433.1, 322606.73, 321779.66, 320951.91, 320123.47, 319294.34, 318011.18, 316726.95, 315441.66, 314155.29, 312867.85, 311579.34, 310289.75, 308999.09, 307707.36, 306414.55, 305120.66, 303825.69, 302473.64, 301120.47, 299766.17, 298410.74, 297054.18, 295696.49, 294337.67, 292977.71, 291616.63, 290254.4, 288891.05, 287526.56, 286160.93, 284794.16, 283426.25, 282057.2, 280687.02, 279315.69, 277943.22, 276569.6, 275178.17, 273785.59, 272391.84, 270996.93, 269600.86, 268203.63, 266805.23, 265405.66, 264004.93, 262603.03, 261199.97, 259795.73, 258390.33, 256983.75, 255576, 254167.08, 252756.99, 251345.71, 249933.27, 248519.64, 247104.84, 245688.86, 244271.7, 242853.36, 241433.83, 240013.13, 238591.24, 237168.16, 235743.9, 234318.45, 232891.81, 231463.99, 230034.97, 228604.77, 227173.37, 225740.78, 224306.99, 222872.01, 221435.84, 219998.47, 218559.9, 217120.13, 215679.16, 214236.99, 212793.62, 211349.05, 209903.27, 208456.29, 207008.1, 205558.7, 204108.1, 202656.29, 201203.27, 199749.04, 198293.59, 196836.93, 195379.06, 193919.98, 192459.68, 190998.16, 189535.42, 188071.46, 186606.29, 185139.89, 183672.27, 182203.43, 180733.37, 179262.08, 177789.56, 176315.82, 174840.84, 173364.64, 171887.21, 170408.55, 168928.65, 167447.53, 165965.16, 164481.57, 162996.73, 161510.66, 160023.35, 158534.8, 157045.01, 155553.98, 154061.71, 152568.19, 151073.43, 149577.42, 148080.17, 146581.67, 145081.92, 143580.92, 142078.67, 140575.16, 139070.41, 137564.4, 136057.13, 134548.61, 133038.84, 131527.8, 130015.5, 128501.95, 126987.13, 125471.05, 123953.71, 122435.1, 120915.23, 119394.09, 117871.68, 116348.01, 114823.06, 113296.85, 111769.36, 110240.6, 108710.57, 107179.26, 105646.67, 104112.81, 102577.67, 101041.25, 99503.55, 97964.57, 96424.3, 94882.75, 93339.92, 91795.8, 90250.4, 88703.7, 87155.72, 85606.45, 84055.89, 82504.03, 80950.88, 79396.44, 77840.7, 76283.67, 74725.33, 73165.7, 71604.77, 70042.54, 68479.01, 66914.17, 65348.03, 63780.59, 62211.84, 60641.78, 59070.41, 57497.74, 55923.75, 54348.45, 52771.84, 51193.91, 49614.67, 48034.12, 46452.24, 44869.05, 43284.54, 41698.71, 40111.56, 38523.08, 36933.28, 35342.16, 33749.71, 32155.93, 30560.83, 28964.39, 27366.63, 25767.53, 24167.1, 22565.34, 20962.24, 19357.81, 17752.04, 16144.93, 14536.48, 12926.69, 11315.56, 9703.09, 8089.28, 6474.12, 4857.61, 3239.76, 1620.55], released_amounts: [0, 77299.21, 137650.61, 9176.71, 13765.06, 18353.41, 22941.77, 27530.12, 32118.47, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], preamortizations: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], yearly_rate: 1, amount: 338835.36, duration_months: 240, interests_cost: 35495.83, preamortization_cost: 0, insurances: [{ monthly_values: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]}], amortizations: [0, 1031.49, 917.64, 910.75, 900.04, 885.5, 867.12, 844.9, 818.84, 819.52, 820.2, 820.89, 821.57, 822.25, 822.94, 823.63, 824.31, 825, 825.69, 826.37, 827.06, 827.75, 828.44, 829.13, 1283.16, 1284.23, 1285.3, 1286.37, 1287.44, 1288.51, 1289.59, 1290.66, 1291.74, 1292.81, 1293.89, 1294.97, 1352.05, 1353.17, 1354.3, 1355.43, 1356.56, 1357.69, 1358.82, 1359.95, 1361.09, 1362.22, 1363.36, 1364.49, 1365.63, 1366.77, 1367.91, 1369.05, 1370.19, 1371.33, 1372.47, 1373.62, 1391.43, 1392.59, 1393.75, 1394.91, 1396.07, 1397.23, 1398.4, 1399.56, 1400.73, 1401.9, 1403.07, 1404.24, 1405.41, 1406.58, 1407.75, 1408.92, 1410.1, 1411.27, 1412.45, 1413.62, 1414.8, 1415.98, 1417.16, 1418.34, 1419.52, 1420.71, 1421.89, 1423.08, 1424.26, 1425.45, 1426.64, 1427.83, 1429.02, 1430.21, 1431.4, 1432.59, 1433.78, 1434.98, 1436.18, 1437.37, 1438.57, 1439.77, 1440.97, 1442.17, 1443.37, 1444.57, 1445.78, 1446.98, 1448.19, 1449.39, 1450.6, 1451.81, 1453.02, 1454.23, 1455.44, 1456.66, 1457.87, 1459.09, 1460.3, 1461.52, 1462.74, 1463.96, 1465.18, 1466.4, 1467.62, 1468.84, 1470.07, 1471.29, 1472.52, 1473.74, 1474.97, 1476.2, 1477.43, 1478.66, 1479.89, 1481.13, 1482.36, 1483.6, 1484.83, 1486.07, 1487.31, 1488.55, 1489.79, 1491.03, 1492.27, 1493.52, 1494.76, 1496.01, 1497.25, 1498.5, 1499.75, 1501, 1502.25, 1503.5, 1504.76, 1506.01, 1507.26, 1508.52, 1509.78, 1511.04, 1512.3, 1513.56, 1514.82, 1516.08, 1517.34, 1518.61, 1519.87, 1521.14, 1522.41, 1523.68, 1524.95, 1526.22, 1527.49, 1528.76, 1530.03, 1531.31, 1532.59, 1533.86, 1535.14, 1536.42, 1537.7, 1538.98, 1540.26, 1541.55, 1542.83, 1544.12, 1545.41, 1546.69, 1547.98, 1549.27, 1550.56, 1551.86, 1553.15, 1554.44, 1555.74, 1557.03, 1558.33, 1559.63, 1560.93, 1562.23, 1563.53, 1564.84, 1566.14, 1567.45, 1568.75, 1570.06, 1571.37, 1572.68, 1573.99, 1575.3, 1576.61, 1577.93, 1579.24, 1580.56, 1581.87, 1583.19, 1584.51, 1585.83, 1587.15, 1588.48, 1589.8, 1591.12, 1592.45, 1593.78, 1595.11, 1596.43, 1597.76, 1599.1, 1600.43, 1601.76, 1603.1, 1604.43, 1605.77, 1607.11, 1608.45, 1609.79, 1611.13, 1612.47, 1613.82, 1615.16, 1616.51, 1617.85, 1619.2, 1620.55], grace_period: null, guaranty: null}]);

//     expect(maxInstalement === 1621.9100000000003 ).toBeTruthy();

//   });



//   it('pinel recap', () => {
//     const pinelRecap = Utils.buildPinelTable([['price_evolution', 200000, 200600, 201201.8, 201805.41, 202410.82, 203018.05, 203627.11, 204237.99, 204850.7, 205465.26, 206081.65, 206699.9, 207320, 207941.96, 208565.78, 209191.48, 209819.05, 210448.51, 211079.86, 211713.1], ['rent_value_evolution', 800, 803.2, 806.41, 809.64, 812.88, 816.13, 819.39, 822.67, 825.96, 829.27, 832.58, 835.91, 839.26, 842.61, 845.98, 849.37, 852.77, 856.18, 859.6, 863.04], ['renting_received', 9600, 9638.4, 9676.95, 9715.66, 9754.52, 9793.54, 9832.72, 9872.05, 9911.54, 9951.18, 9990.99, 10030.95, 10071.07, 10111.36, 10151.8, 10192.41, 10233.18, 10274.11, 10315.21, 10356.47], ['interests', 2004.6, 1911.25, 1816.95, 1721.71, 1625.51, 1528.35, 1430.21, 1331.08, 1230.96, 1129.83, 1027.69, 924.52, 820.31, 715.06, 608.75, 501.37, 392.91, 283.36, 172.72, 60.96], ['deductible_charges', 1152, 1156.61, 1161.23, 1165.88, 1170.54, 1175.23, 1179.93, 1184.65, 1189.38, 1194.14, 1198.92, 1203.71, 1208.53, 1213.36, 1218.22, 1223.09, 1227.98, 1232.89, 1237.83, 1242.78], ['renting_result', 6443.4, 6570.54, 6698.77, 6828.07, 6958.47, 7089.97, 7222.58, 7356.32, 7491.19, 7627.21, 7764.38, 7902.72, 8042.23, 8182.94, 8324.84, 8467.95, 8612.29, 8757.86, 8904.67, 9052.74], ['tax_on_renting_result', 0, 1971.16, 2009.63, 2048.42, 2087.54, 2126.99, 2166.77, 2206.9, 2247.36, 2288.16, 2329.31, 2370.82, 2412.67, 2454.88, 2497.45, 2540.39, 2583.69, 2627.36, 2671.4, 2715.82], ['tax_reduction', 0, -4188.24, -4188.24, -4188.24, -4188.24, -4188.24, -4188.24, -2094.12, -2094.12, -2094.12, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], ['tax_impact', 0, -2217.08, -2178.61, -2139.82, -2100.7, -2061.25, -2021.47, 112.78, 153.24, 194.04, 2329.31, 2370.82, 2412.67, 2454.88, 2497.45, 2540.39, 2583.69, 2627.36, 2671.4, 2715.82], ['treasury', 7849.5, 598.64, 603.18, 607.9, 612.82, 617.94, 623.25, 2722.88, 2728.59, 2734.51, 4834.75, 4841.08, 4847.63, 4854.39, 4861.37, 4868.57, 4875.99, 4883.64, 4891.52, 4899.63]]);

//     expect(pinelRecap).toEqual( [[1, '200 000,00', '800,00', '9 600,00', '2 004,60', '1 152,00', '6 443,40', '0,00', '0,00', '0,00', '7 849,50'], [2, '200 600,00', '803,20', '9 638,40', '1 911,25', '1 156,61', '6 570,54', '1 971,16', '-4 188,24', '-2 217,08', '598,64'], [3, '201 201,80', '806,41', '9 676,95', '1 816,95', '1 161,23', '6 698,77', '2 009,63', '-4 188,24', '-2 178,61', '603,18'], [4, '201 805,41', '809,64', '9 715,66', '1 721,71', '1 165,88', '6 828,07', '2 048,42', '-4 188,24', '-2 139,82', '607,90'], [5, '202 410,82', '812,88', '9 754,52', '1 625,51', '1 170,54', '6 958,47', '2 087,54', '-4 188,24', '-2 100,70', '612,82'], [6, '203 018,05', '816,13', '9 793,54', '1 528,35', '1 175,23', '7 089,97', '2 126,99', '-4 188,24', '-2 061,25', '617,94'], [7, '203 627,11', '819,39', '9 832,72', '1 430,21', '1 179,93', '7 222,58', '2 166,77', '-4 188,24', '-2 021,47', '623,25'], [8, '204 237,99', '822,67', '9 872,05', '1 331,08', '1 184,65', '7 356,32', '2 206,90', '-2 094,12', '112,78', '2 722,88'], [9, '204 850,70', '825,96', '9 911,54', '1 230,96', '1 189,38', '7 491,19', '2 247,36', '-2 094,12', '153,24', '2 728,59'], [10, '205 465,26', '829,27', '9 951,18', '1 129,83', '1 194,14', '7 627,21', '2 288,16', '-2 094,12', '194,04', '2 734,51'], [11, '206 081,65', '832,58', '9 990,99', '1 027,69', '1 198,92', '7 764,38', '2 329,31', '0,00', '2 329,31', '4 834,75'], [12, '206 699,90', '835,91', '10 030,95', '924,52', '1 203,71', '7 902,72', '2 370,82', '0,00', '2 370,82', '4 841,08'], [13, '207 320,00', '839,26', '10 071,07', '820,31', '1 208,53', '8 042,23', '2 412,67', '0,00', '2 412,67', '4 847,63'], [14, '207 941,96', '842,61', '10 111,36', '715,06', '1 213,36', '8 182,94', '2 454,88', '0,00', '2 454,88', '4 854,39'], [15, '208 565,78', '845,98', '10 151,80', '608,75', '1 218,22', '8 324,84', '2 497,45', '0,00', '2 497,45', '4 861,37'], [16, '209 191,48', '849,37', '10 192,41', '501,37', '1 223,09', '8 467,95', '2 540,39', '0,00', '2 540,39', '4 868,57'], [17, '209 819,05', '852,77', '10 233,18', '392,91', '1 227,98', '8 612,29', '2 583,69', '0,00', '2 583,69', '4 875,99'], [18, '210 448,51', '856,18', '10 274,11', '283,36', '1 232,89', '8 757,86', '2 627,36', '0,00', '2 627,36', '4 883,64'], [19, '211 079,86', '859,60', '10 315,21', '172,72', '1 237,83', '8 904,67', '2 671,40', '0,00', '2 671,40', '4 891,52'], [20, '211 713,10', '863,04', '10 356,47', '60,96', '1 242,78', '9 052,74', '2 715,82', '0,00', '2 715,82', '4 899,63'], ['TOTAL', '', '', '199 474,11', '21 238,10', '23 936,90', '154 299,14', '44 356,72', '-31 411,80', '12 944,92', '68 357,78']] );
//   });




// });
